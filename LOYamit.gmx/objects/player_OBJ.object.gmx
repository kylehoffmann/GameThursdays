<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>marcus_down_SPR</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>marcus_down_SPR</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>horizontalMoveRate = 0;
horizontalMoveRateSign = 0;
verticalMoveRate = 0;
verticalMoveRateSign = 0;
maxSpeed = 10;
increaseRate = .5;
playerMoveX = 0;
playerMoveY = 0;



upPressedLastStep = 0;
downPressedLastStep = 0;
leftPressedLastStep = 0;
rightPressedLastStep = 0;
upPressed = 0;
downPressed = 0;
leftPressed = 0;
rightPressed = 0;

upKey = ord('W');
downKey = ord('S');
leftKey = ord('A');
rightKey = ord('D');

characterFacing = 2;
lastFacing = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>move_speed</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>5</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000010000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>531</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_fullscreen</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if (keyboard_check(ord('A')))
{
    if (horizontalMoveRate &lt;= 0)
    {
       if (-horizontalMoveRate &lt; maxSpeed)
       {
            horizontalMoveRate -= increaseRate;
       } 
    }
    else if(keyboard_check(ord('D')))
    {
        horizontalMoveRate = -1;
    }
}
else
{
    if (horizontalMoveRate &lt;= 0)
    {
        horizontalMoveRate = 0;
    }
}
if (keyboard_check(ord('D')))
{
    if (horizontalMoveRate &gt;= 0)
    {
       if (horizontalMoveRate &lt; maxSpeed)
       {
            horizontalMoveRate += increaseRate;
       } 
    }
    else
    {
        horizontalMoveRate = 0;
    }
}
else
{
    if (horizontalMoveRate &gt;= 0)
    {
        horizontalMoveRate = 0;
    }
}

if (keyboard_check(ord('W')))
{
    if (verticalMoveRate &lt;= 0)
    {
       if (-verticalMoveRate &lt; maxSpeed)
       {
            verticalMoveRate -= increaseRate;
       } 
    }
    else if(keyboard_check(ord('S')))
    {
        verticalMoveRate = -1;
    }
}
else
{
    if (verticalMoveRate &lt;= 0)
    {
        verticalMoveRate = 0;
    }
}
if (keyboard_check(ord('S')))
{
    if (verticalMoveRate &gt;= 0)
    {
       if (verticalMoveRate &lt; maxSpeed)
       {
            verticalMoveRate += increaseRate;
       } 
    }
    else
    {
        verticalMoveRate = 0;
    }
}
else
{
    if (verticalMoveRate &gt;= 0)
    {
        verticalMoveRate = 0;
    }
}

self.x += horizontalMoveRate;
self.y += verticalMoveRate;*/

/*
//Checks if a key defined as the up key is pressed defualt = "W"
if (keyboard_check_direct(upKey))
{
    upPressed = 1;
}
else
{
    upPressed = 0;
    upPressedLastStep = 0;
}

//Checks if a key defined as the down key is pressed defualt = "S"
if (keyboard_check_direct(downKey))
{
    downPressed = 1;
}
else
{
    downPressed = 0;
    downPressedLastStep = 0;
}

//Checks if a key defined as the left key is pressed defualt = "A"
if (keyboard_check_direct(leftKey))
{
    leftPressed = 1;
}
else
{
    leftPressed = 0;
    leftPressedLastStep = 0;
}

//Checks if a key defined as the right key is pressed defualt = "D"
if (keyboard_check_direct(rightKey))
{
    rightPressed = 1;
}
else
{
    rightPressed = 0;
    rightPressedLastStep = 0;
}*/

//Checks if a key defined as the up key is pressed defualt = "W"
if (keyboard_check_pressed(upKey))
{
    upPressed = 1;
}
else if (keyboard_check_released(upKey))
{
    upPressed = 0;
    upPressedLastStep = 0;
}

//Checks if a key defined as the down key is pressed defualt = "S"
if (keyboard_check_pressed(downKey))
{
    downPressed = 1;
}
else if (keyboard_check_released(downKey))
{
    downPressed = 0;
    downPressedLastStep = 0;
}

//Checks if a key defined as the left key is pressed defualt = "A"
if (keyboard_check_pressed(leftKey))
{
    leftPressed = 1;
}
else if (keyboard_check_released(leftKey))
{
    leftPressed = 0;
    leftPressedLastStep = 0;
}

//Checks if a key defined as the right key is pressed defualt = "D"
if (keyboard_check_pressed(rightKey))
{
    rightPressed = 1;
}
else if (keyboard_check_released(rightKey))
{
    rightPressed = 0;
    rightPressedLastStep = 0;
}

// Checks which of the vertical keys are pressed. 
// If either both or neither are pressed then the character won't move. 
// If only one button is pressed then the player continues to go the direction.
// Dosen't consider the case that no button is pressed
if (upPressed == downPressed)
{
    // Either both or neither up and down are pressed, Character stops moving.
    verticalMoveRate = 0;    
}
else
{
    // Character is moving, this makes sure it is animated.
    image_speed = 0.25;
    
    // Only one vertical key is pressed. It is assumed the character had no vertical movment or
    //  Was going the same direction. They are to start/continue accelerating. 
    //  (Note: it is possible to swap from up to down in a single frame, but it isn't worth fixing)
    
    // Accelearion is capped at max speed.
    if (verticalMoveRate &lt; maxSpeed)
    { 
        // This makes it so that if the player is already moving horizontally the player 
        //  starts moving vertically at the same rate.
        if (verticalMoveRate &gt;= horizontalMoveRate)
        {
            // Either the player wasn't moving or was moving horizontally.
            //  Thus increase acceleration by one step.
            verticalMoveRate += increaseRate;
        }
        else
        {
            // The player was already moving horizontally.
            //  Thus adjust speed to previous horizontal speed and increase accelearion by one step.
            verticalMoveRate = horizontalMoveRate 
            if (horizontalMoveRate &lt; maxSpeed)
            {
                verticalMoveRate += increaseRate;
            }
        }
    }
    // This checks which direction the player was heading.
    if (upPressed == 1)
    {
        verticalMoveRateSign = -1;
        if (upPressedLastStep == 0)
        {
           characterFacing = 0; 
           upPressedLastStep = 1;
        }
    }
    else
    {
        verticalMoveRateSign = 1;
        if (downPressedLastStep == 0)
        {
           characterFacing = 2; 
           downPressedLastStep = 1;
        }
    }
}

if (leftPressed == rightPressed)
{
    horizontalMoveRate = 0; 
    if   (upPressed == downPressed)
    {
        image_index = 0;
        image_speed = 0;
    } 
}
else
{
    image_speed = 0.25;
    if (horizontalMoveRate &lt; maxSpeed)
    { 
        if (horizontalMoveRate &gt;= verticalMoveRate)
        {
            horizontalMoveRate += increaseRate;
        }
        else
        {
            horizontalMoveRate = verticalMoveRate;
        }
    }
    if (leftPressed == 1)
    {
        horizontalMoveRateSign = -1;
        if (leftPressedLastStep == 0)
        {
           characterFacing = 3; 
           leftPressedLastStep = 1;
        }
    }
    else
    {
        horizontalMoveRateSign = 1;
        if (rightPressedLastStep == 0)
        {
           characterFacing = 1; 
           rightPressedLastStep = 1;
        }
    }
}

if(lastFacing != characterFacing)
{
    if(characterFacing == 0)
    {
        sprite_index = marcus_up_SPR;
    }
    else if (characterFacing == 1)
    {
        sprite_index = marcus_right_SPR;
    }
    else if (characterFacing == 2)
    {
        sprite_index = marcus_down_SPR;
    }
    else if (characterFacing == 3)
    {
        sprite_index = marcus_left_SPR;
    }
    image_index = 0;
    image_speed = 0.25;
    lastFacing = characterFacing;
}
i = 0
while( i &lt; horizontalMoveRate)
{
    if (collision_rectangle(bbox_left + horizontalMoveRateSign, bbox_top, bbox_right + horizontalMoveRateSign, bbox_bottom, invisible_wall_OBJ, false, false) == noone)
    {
        self.x += horizontalMoveRateSign;    
    }
    else
    {
        break;
    }
    i++;
    
}
for(i = 0; i &lt; verticalMoveRate; i++)
{
    if (collision_rectangle(bbox_left, bbox_top + verticalMoveRateSign, bbox_right, bbox_bottom + verticalMoveRateSign, invisible_wall_OBJ, false, false) == noone)
    {
        self.y += verticalMoveRateSign;
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>.5</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>010000000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>.5</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000001000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>.5</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000000010</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>.5</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000100000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="9" enumb="16">
      <action>
        <libid>1</libid>
        <id>531</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_fullscreen</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="40">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>010000000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="39">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000001000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="38">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000000010</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="37">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>marcus_down_SPR</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>101</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_move</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>-1</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>000100000</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-move_speed</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>1</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
